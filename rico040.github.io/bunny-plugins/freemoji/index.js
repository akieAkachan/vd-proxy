(function(r,t,i,s,m,j,S){"use strict";const u=i.findByProps("canUseEmojisEverywhere");var g=[s.instead("canUseEmojisEverywhere",u,function(){return!0}),s.instead("canUseAnimatedEmojis",u,function(){return!0})];const{getCustomEmojiById:E}=i.findByStoreName("EmojiStore"),{getGuildId:v}=i.findByStoreName("SelectedGuildStore"),y=/<a?:(\w+):(\d+)>/i;function z(e,n){const o=e.matchAll(/<a?:(\w+):(\d+)>/gi),c=[];for(const a of o){const d=E(a[2]);(d.guildId!=v()||d.animated)&&(e=e.replace(a[0],""),d.animated?c.push(`https://cmedia.discordapp.net/emojis/${a[2]}.gif?size=${n}`):c.push(`https://media.discordapp.net/emojis/${a[2]}.webp?size=${n}`))}return{newContent:e.trim(),extractedEmojis:c}}function l(e){if(!e.content.match(y))return;const{newContent:n,extractedEmojis:o}=z(e.content,t.storage.emojiSize);e.content=n,o.length>0&&(e.content+=`
`+o.join(`
`)),e.invalidEmojis=[]}const p=i.findByProps("sendMessage","receiveMessage"),h=i.findByProps("uploadLocalFiles");var w=[s.before("sendMessage",p,function(e){return l(e[1])}),s.before("uploadLocalFiles",h,function(e){return l(e[0].parsedMessage)})];const{FormSection:f,FormRadioRow:b}=j.Forms,$={Tiny:16,Small:32,Medium:48,Large:64,Huge:96,Jumbo:128},R="https://cdn.discordapp.com/emojis/926602689213767680.webp";function B(){return S.useProxy(t.storage),React.createElement(m.ReactNative.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38}},React.createElement(f,{title:"Emoji Size",titleStyleType:"no_border"},Object.entries($).map(function(e){let[n,o]=e;return React.createElement(b,{label:n,subLabel:o,selected:t.storage.emojiSize===o,onPress:function(){t.storage.emojiSize=o}})})),React.createElement(f,{title:"Preview"},React.createElement(m.ReactNative.Image,{source:{uri:`${R}?size=${t.storage.emojiSize}`,width:t.storage.emojiSize,height:t.storage.emojiSize}})))}t.storage.emojiSize??=48,typeof t.storage.emojiSize=="string"&&(t.storage.emojiSize=parseInt(t.storage.emojiSize));const P=[...g,...w],F=function(){return P.forEach(function(e){return e()})};return r.onUnload=F,r.settings=B,r})({},vendetta.plugin,vendetta.metro,vendetta.patcher,vendetta.metro.common,vendetta.ui.components,vendetta.storage);
